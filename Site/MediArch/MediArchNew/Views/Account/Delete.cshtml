@model MediArch.Models.ApplicationUser

@using MediArch.Services.Interfaces
@inject IApplicationUserService service

@{
    ViewData["Title"] = "Account - Delete";
}
<div class="General_remake">
    <br />
    <h2>@ViewData["Title"]</h2>
    
        <h3>Are you sure you want to delete this account?</h3>
    
    <div>
        <hr />
            <p><b>@Html.DisplayNameFor(model => model.Email):</b> @Html.DisplayFor(model => model.Email)</p>
            <p><b>Age:</b> @service.GetAgeOfUser(Model.Id)</p>
            <p><b>Full Name:</b> @Html.DisplayFor(model => model.FirstName) @Html.DisplayFor(model => model.LastName)</p>
            <p><b>@Html.DisplayNameFor(model => model.BirthDate):</b> @Html.DisplayFor(model => model.BirthDate)</p>
            @if (service.DetermineUserRole(Model.Id) == "Medic")
            {
                <p><b>@Html.DisplayNameFor(model => model.Title):</b> @Html.DisplayFor(model => model.Title)</p>
                <p><b>@Html.DisplayNameFor(model => model.CabinetAdress):</b> @Html.DisplayFor(model => model.CabinetAdress)</p>

            }
            <p><b>@Html.DisplayNameFor(model => model.PhoneNumber):</b> @Html.DisplayFor(model => model.PhoneNumber)</p>
    
            @if (User.IsInRole("Owner") || User.IsInRole("Moderator"))
            {
            <form asp-action="Delete">
                <input type="hidden" asp-for="Id" />
                <input type="submit" value="Delete" class="button_remake" />
                <br />
                <br />
            </form>

            <a asp-action="Details" asp-route-id="@Model.Id">Details</a>
            <a asp-action="Edit" asp-route-id="@Model.Id"> | Edit | </a>
            <a asp-action="Users">Go back</a>
            }
    </div>
</div>
